"use strict";function Router(e,o){e.state("login",{url:"/login",templateUrl:"/templates/login.html",controller:"LoginController as login"}).state("register",{url:"/register",templateUrl:"/templates/register.html",controller:"RegisterController as register"}).state("moodIndex",{url:"/moodIndex",templateUrl:"/templates/moodIndex.html",controller:"moodIndexController as moodIndex"}),o.otherwise("/moodIndex")}function Auth(e){e.loginUrl="/login",e.signupUrl="/register",e.tokenPrefix="",e.facebook({clientId:"1114403908656537"}),e.github({clientId:"f226d5ade062bb0c6600"})}function RegisterController(e,o){function t(){e.signup(n.user).then(function(){o.go("login")})}var n=this;n.user={},n.submit=t}function LoginController(e,o){function t(){e.login(r.credentials).then(function(){o.go("moodIndex")})}function n(t){e.authenticate(t).then(function(e){console.log(e),o.go("moodIndex")})}var r=this;r.credentials={},r.submit=t,r.authenticate=n}function MainController(e,o,t){function n(){e.logout().then(function(){o.go("moodIndex")})}function r(t,n){l.message=null,console.log(n,t),!e.isAuthenticated()&&i.includes(n.name)&&(t.preventDefault(),l.message="You must be logged in to go there!",o.go("login"))}var l=this;l.isLoggedIn=e.isAuthenticated,l.message=null;var i=["moodIndex"];t.$on("$stateChangeStart",r),l.logout=n}angular.module("moodApp",["ngResource","ui.router","satellizer"]).config(Router).config(Auth),Router.$inject=["$stateProvider","$urlRouterProvider"],Auth.$inject=["$authProvider"],angular.module("moodApp").controller("RegisterController",RegisterController).controller("LoginController",LoginController),RegisterController.$inject=["$auth","$state"],LoginController.$inject=["$auth","$state"],angular.module("moodApp").controller("MainController",MainController),MainController.$inject=["$auth","$state","$rootScope"];
//# sourceMappingURL=app.js.map
